{% extends 'hospital/admin_base.html' %}
{% load static %}
{% block content %}
          <div class="row">
            <div class="col-sm-12 mb-4 mb-xl-0">
              <h4 class="font-weight-bold text-dark">Hi, welcome back!</h4>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-xl-4 flex-column d-flex grid-margin stretch-card">
              <div class="row flex-grow">
                <div class="col-sm-12 grid-margin stretch-card">
                    <div class="card">
                      <div class="card-body">
                        <h4 class="text-dark font-weight-bold mb-2">Hospital</h4>
                        <h4 class="card-title">Name</h4>
                        <p>{{ hospital.name }}</p>
                        <h4 class="card-title">Contact</h4>
                        <p>{{ hospital.name }}</p>
                      </div>
                    </div>
                </div>
                <div class="col-sm-12 stretch-card">
                    <div class="card">
                        <div class="card-body">
                          <h4 class="text-dark font-weight-bold mb-2">User</h4>
                          <h4 class="card-title">Name</h4>
                          <p>{{ request.user.first_name }}</p>
                          <h4 class="card-title">Contact</h4>
                          <p>{{ admin.mobile}}</p>
                        </div>
                      </div>
               </div>
              </div>
            </div>
            <div class="col-xl-8 d-flex grid-margin stretch-card overflow-auto">
                <div class="card">
                  <div class="card-body">
                      <h6 class="card-title font-weight-bold text-info ">Pending Doctors</h6>

                      <div class="row">
                        <div class="table-responsive">
                          <table class="table table-striped">
                              <thead>
                                <tr>
                                  <th>Name</th>
                                  <th>Department</th>
                                  <th>Contact</th>
                                  <th>Status</th>
                                </tr>
                              </thead>
                              <tbody>
                                {% for d in doctors %}
                                <tr>
                                  <td> {{d.get_name}}</td>
                                  <td>{{d.department}}</td>
                                  <td>{{d.mobile}}</td>
                                    <td>
                                      {%if d.status%}
                                      <label class="badge badge-success">Completed</label>
                                      {% else %}
                                      <label class="badge badge-danger">Pending</label>
                                    </td>
                                    {% endif %}
                                </tr>                               
                                {% endfor %}                                
                              </tbody>
                            </table>
                          </div>
                      </div>                        
                    </div>
                  </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-xl-4 flex-column grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title mb-3">Patient Details</h4>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="text-dark">
                        <div class="d-flex pb-3 border-bottom ">
                          <div class="mr-3"><i class="mdi mdi-calendar-check-outline icon-md"></i></div>
                          <div class="font-weight-bold mr-sm-4">
                            <div>Appointments Count</div>
                            <div class="font-weight-normal mt-1">{{ appointmentcount }}</div>
                          </div>
                          <div><h6 class="font-weight-bold text-info ml-sm-2"></h6></div>
                        </div>
                        <div class="d-flex pb-3 pt-3 border-bottom">
                          <div class="mr-3"><i class="mdi mdi-calendar-check-outline icon-md"></i></div>
                          <div class="font-weight-bold mr-sm-4">
                            <div>Pending Appointment Count</div>
                            <div class="font-weight-normal mt-1">{{ pendingappointmentcount }}</div>
                          </div>
                          <div><h6 class="font-weight-bold text-info ml-sm-2"></h6></div>
                        </div>
                        <div class="d-flex pb-3 pt-3 border-bottom ">
                        <div class="mr-3"><i class="icon-head icon-md"></i></div>
                          <div class="font-weight-bold mr-sm-4">
                            <div>Doctor</div>
                            <div class="font-weight-normal mt-1">{{ doctorcount }}</div>
                          </div>
                          <div><h6 class="font-weight-bold text-info ml-sm-2"></h6></div>
                        </div>
                        <div class="d-flex pb-3 pt-3 border-bottom ">
                        <div class="mr-3"><i class="icon-head icon-md"></i></div>
                          <div class="font-weight-bold mr-sm-4">
                            <div>Pending Doctors</div>
                            <div class="font-weight-normal mt-1">{{ pendingdoctorcount }}</div>
                          </div>
                          <div><h6 class="font-weight-bold text-info ml-sm-2"></h6></div>
                        </div>
                      </div>
                    </div>
                  </div>  
                </div>
              </div>
            </div>
            <div class="col-xl-8 d-flex grid-margin stretch-card overflow-auto">
                <div class="card">
                  <div class="card-body">
                      <h6 class="card-title font-weight-bold text-info ">Patient Prescriptions</h6>

                      <div class="row">
                        <div class="table-responsive">
                          <table class="table table-striped">
                              <thead>
                                <tr>
                                  <th>Patient Name</th>
                                  <th>Description</th>
                                  <th>Date</th>
                                  <th>Doctor Name</th>
                                  <th>Status</th>                      
                                </tr>
                              </thead>
                              <tbody>
                                {% for a in appointment %}
                                <tr>
                                  <td>{{a.patientName}}</td>
                                  <td>{{a.description}}</td>
                                  <td>{{a.appointmentDate}}</td>
                                  <td> {{a.doctorName}}</td>
                                    <td>
                                      {% if p.status %}
                                      <label class="badge badge-success">Completed</label>
                                      {% else %}
                                      <label class="badge badge-danger">Pending</label>
                                    </td>
                                    {% endif %}
                                </tr>                               
                                {% endfor %}                                
                              </tbody>
                            </table>
                          </div>
                      </div>                        
                    </div>
                  </div>
            </div>
          </div>

{% endblock content %}
